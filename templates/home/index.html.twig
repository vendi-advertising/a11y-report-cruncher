{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block stylesheets %}
<style>
table,
tr,
td {
    border: 1px solid #000;
    border-collapse: collapse;;
}

td {
    padding: 0.25rem;
}
</style>
{% endblock %}

{% block body %}

<h1>Stuff</h1>

<h2>Users with Clients</h2>
<ul>
    {% for user in users %}
        <li>
            {{ user.email }}

            <ul>
                {% for client in user.clients %}
                    <li>
                        {{client.name}}
                    </li>
                {% endfor %}
            </ul>

        </li>
    {% endfor %}
</ul>


<h2>Properties with Scans</h2>
<ul>
    {% for property in properties %}
        <li>
            {{ property.name }}

            <table>
                <thead>
                    <tr>
                        <td>Scan ID</td>
                        <td>Date/Time Created</td>
                    </tr>
                </thead>
                <tbody>

                {% for scan in property.propertyScans %}

                    <tr>

                        <td>{{ scan.id }}</td>
                        <td>{{ scan.dateTimeCreated | date('m/d/Y') }}</td>

                    </tr>

                    <tr>
                        <td colspan="2">
                            <table>

                            {% for url in scan.propertyScanUrls %}
                                <tr>
                                    <td>
                                        {{ url.url }}
                                    </td>
                                </tr>
                            {% endfor %}

                            </table>

                        </td>
                    </tr>

                {% endfor %}
                </tbody>
            </table>

        </li>
    {% endfor %}
</ul>
{% endblock %}
